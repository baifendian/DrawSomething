<?xml version="1.0" encoding="GBK"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmcc.dao.GameDao">

	<resultMap id="BaseResultMap" type="com.cmcc.po.Game">
		<result column="id" property="id" />
		<result column="game_name" property="gameName" />
		<result column="game_describe" property="gameDescribe" />
		<result column="game_url" property="gameUrl" />
		<result column="logo_url" property="logoUrl" />
		<result column="on_time" property="onTime" />
		<result column="is_on" property="isOn" />
		<result column="is_main" property="isMain" />
		<result column="create_time" property="createTime" />
		<result column="update_time" property="updateTime" />
		<result column="extend_1" property="extend1" />
		<result column="extend_2" property="extend2" />
		<result column="extend_3" property="extend3" />
		<result column="extend_4" property="extend4" />
		<result column="extend_5" property="extend5" />
	</resultMap>

	<sql id="Base_Column_List" >
    	id, game_name, game_describe, game_url, logo_url, on_time, is_on, is_main, create_time, update_time, extend_1, extend_2, extend_3, extend_4, extend_5
  	</sql>
	<select id="findByPrimaryKey" resultMap="BaseResultMap" parameterType="java.io.Serializable">
		select
		<include refid="Base_Column_List" />
		from GAME
		where
		id = #{id}
	</select>

	<select id="findByCondition" resultMap="BaseResultMap" parameterType="java.io.Serializable">
		select
		<include refid="Base_Column_List" />
		from GAME
		where
		${condition}
	</select>
	<select id="findAll" resultMap="BaseResultMap">
		select 
		<include refid="Base_Column_List" />
		from GAME
	</select>

	<delete id="deleteByPrimaryKey" parameterType="java.io.Serializable">
		delete from GAME
		where
		id = #{id}
	</delete>
	
	<delete id="deleteByCondition" parameterType="java.io.Serializable">
		delete from GAME
		where
		${condition}
	</delete>

	<delete id="deleteAll">
		delete from GAME
	</delete>

	<insert id="create" parameterType="com.cmcc.po.Game" useGeneratedKeys="true" keyProperty="id">
		insert into GAME (<include refid="Base_Column_List" />)
		values (
		#{id, javaType=Long, jdbcType=BIGINT},
		#{gameName, javaType=String, jdbcType=VARCHAR},
		#{gameDescribe, javaType=String, jdbcType=VARCHAR},
		#{gameUrl, javaType=String, jdbcType=VARCHAR},
		#{logoUrl, javaType=String, jdbcType=VARCHAR},
		#{onTime, javaType=Date, jdbcType=TIMESTAMP},
		#{isOn, javaType=Integer, jdbcType=TINYINT},
		#{isMain, javaType=Integer, jdbcType=TINYINT},
		#{createTime, javaType=Date, jdbcType=TIMESTAMP},
		#{updateTime, javaType=Date, jdbcType=TIMESTAMP},
		#{extend1, javaType=String, jdbcType=VARCHAR},
		#{extend2, javaType=String, jdbcType=VARCHAR},
		#{extend3, javaType=String, jdbcType=VARCHAR},
		#{extend4, javaType=String, jdbcType=VARCHAR},
		#{extend5, javaType=String, jdbcType=VARCHAR}
		)
	<!--<selectKey resultType="String" order="AFTER" keyProperty="id"> 
			SELECT LAST_INSERT_ID() 
		</selectKey>  -->	
	</insert>
	
		<insert id="save" parameterType="com.cmcc.po.Game" keyProperty="id">
		insert into GAME (<include refid="Base_Column_List" />)
		values (
		#{id, javaType=Long, jdbcType=BIGINT},
		#{gameName, javaType=String, jdbcType=VARCHAR},
		#{gameDescribe, javaType=String, jdbcType=VARCHAR},
		#{gameUrl, javaType=String, jdbcType=VARCHAR},
		#{logoUrl, javaType=String, jdbcType=VARCHAR},
		#{onTime, javaType=Date, jdbcType=TIMESTAMP},
		#{isOn, javaType=Integer, jdbcType=TINYINT},
		#{isMain, javaType=Integer, jdbcType=TINYINT},
		#{createTime, javaType=Date, jdbcType=TIMESTAMP},
		#{updateTime, javaType=Date, jdbcType=TIMESTAMP},
		#{extend1, javaType=String, jdbcType=VARCHAR},
		#{extend2, javaType=String, jdbcType=VARCHAR},
		#{extend3, javaType=String, jdbcType=VARCHAR},
		#{extend4, javaType=String, jdbcType=VARCHAR},
		#{extend5, javaType=String, jdbcType=VARCHAR}
		)
	</insert>
		
	<update id="update" parameterType="com.cmcc.po.Game">
	  update GAME 
	   <trim prefix="SET" suffixOverrides=",">   
	  		<if test="gameName != null and gameName != ''">
				game_name = #{gameName, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="gameDescribe != null and gameDescribe != ''">
				game_describe = #{gameDescribe, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="gameUrl != null and gameUrl != ''">
				game_url = #{gameUrl, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="logoUrl != null and logoUrl != ''">
				logo_url = #{logoUrl, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="onTime != null and onTime != ''">
				on_time = #{onTime, javaType=Date, jdbcType=TIMESTAMP},
		</if>
		<if test="isOn != null and isOn != ''">
				is_on = #{isOn, javaType=Integer, jdbcType=TINYINT},
		</if>
		<if test="isMain != null and isMain != ''">
				is_main = #{isMain, javaType=Integer, jdbcType=TINYINT},
		</if>
		<if test="createTime != null and createTime != ''">
				create_time = #{createTime, javaType=Date, jdbcType=TIMESTAMP},
		</if>
		<if test="updateTime != null and updateTime != ''">
				update_time = #{updateTime, javaType=Date, jdbcType=TIMESTAMP},
		</if>
		<if test="extend1 != null and extend1 != ''">
				extend_1 = #{extend1, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="extend2 != null and extend2 != ''">
				extend_2 = #{extend2, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="extend3 != null and extend3 != ''">
				extend_3 = #{extend3, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="extend4 != null and extend4 != ''">
				extend_4 = #{extend4, javaType=String, jdbcType=VARCHAR},
		</if>
		<if test="extend5 != null and extend5 != ''">
				extend_5 = #{extend5, javaType=String, jdbcType=VARCHAR}
		</if>
</trim>
	    where
		id = #{id}
	   	
	</update>


	<select id="getTotal"  resultType="java.lang.Integer">
	  SELECT COUNT(*) FROM GAME
	</select>
	
	<select id="getTotalByCondition"  resultType="java.lang.Integer" parameterType="java.io.Serializable">
	  SELECT COUNT(*) FROM GAME
	  where
	  ${condition}
	</select>
	
	<delete id="deleteList" parameterType="java.util.List">
	   delete GAME  WHERE id IN
		<foreach collection="list" index="index" item="sn" open="(" separator="," close=")">
			#{sn}
		</foreach>
    </delete>
    
    <select id="findByPrimaryKeyPage" resultMap="BaseResultMap" parameterType="java.util.Map">
		
		<![CDATA[ ]]>
		SELECT 
		 <include refid="Base_Column_List" />
		FROM
		GAME
		order by 
		id
		desc
		limit
		#{startIndex} ,#{pageSize}
		
		
	</select>
	
	    <select id="findPageByCondition" resultMap="BaseResultMap" parameterType="java.util.Map">
		
		<![CDATA[ ]]>
		SELECT 
		 <include refid="Base_Column_List" />
		FROM
		GAME
		where
		${condition}
		order by 
		id
		desc
		limit
		#{startIndex} ,#{pageSize}
		
		
	</select>
	<!--codegen -->

</mapper>